<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>lsst.meas.algorithms: include/lsst/meas/algorithms/detail/SdssShape.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">lsst.meas.algorithms
   &#160;<span id="projectnumber">7.1.2.0+2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_807bbb3fd749a7d186583945b5757323.html">lsst</a></li><li class="navelem"><a class="el" href="dir_c6e5bbd2b09a9b0a43d71ac2703336e9.html">meas</a></li><li class="navelem"><a class="el" href="dir_86b5e372f1fe6e51135786ce0618855a.html">algorithms</a></li><li class="navelem"><a class="el" href="dir_79b60e7f311e5d4adc178ceef4d8e8c2.html">detail</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SdssShape.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_sdss_shape_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// -*- lsst-c++ -*-</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#if !defined(LSST_MEAS_ALGORITHMS_DETAIL_H)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LSST_MEAS_ALGORITHMS_DETAIL_H 1</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;bitset&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/ellipses_8h.html">lsst/afw/geom/ellipses.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/_angle_8h.html">lsst/afw/geom/Angle.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html">   10</a></span>&#160;<span class="keyword">namespace </span>lsst { <span class="keyword">namespace </span>meas { <span class="keyword">namespace </span>algorithms { <span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a58c297fcbbbc928054b8f5526d9dd247">   12</a></span>&#160;<span class="keywordtype">int</span> <span class="keyword">const</span> <a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a58c297fcbbbc928054b8f5526d9dd247">SDSS_SHAPE_MAX_ITER</a> = 100;  <span class="comment">// Default maximum number of iterations</span></div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a2831742d450e23d78ee1b7ae757f2856">   13</a></span>&#160;<span class="keywordtype">float</span> <span class="keyword">const</span> <a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a2831742d450e23d78ee1b7ae757f2856">SDSS_SHAPE_TOL1</a> = 1.0e-5; <span class="comment">// Default convergence tolerance for e1,e2</span></div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#ad3159c6e81a9cafd0b22eaf728c3003c">   14</a></span>&#160;<span class="keywordtype">float</span> <span class="keyword">const</span> <a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#ad3159c6e81a9cafd0b22eaf728c3003c">SDSS_SHAPE_TOL2</a> = 1.0e-4; <span class="comment">// Default convergence tolerance for FWHM</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html">   16</a></span>&#160;<span class="keyword">class </span><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html">SdssShapeImpl</a> {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3d12c0b51eb9b6f38249d6e469eb8cc9">   18</a></span>&#160;    <span class="keyword">typedef</span> Eigen::Matrix&lt;double,4,4,Eigen::DontAlign&gt; <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3d12c0b51eb9b6f38249d6e469eb8cc9">Matrix4</a>;    <span class="comment">// type for the 4x4 covariance matrix</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44">   20</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44">Flag</a> {</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44a17ba4b244613c724664a62817b689342">   21</a></span>&#160;        <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44a17ba4b244613c724664a62817b689342">UNWEIGHTED_BAD</a>=0,</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44a2d1a08fa51d79c83fbf76875c5764fd6">   22</a></span>&#160;        <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44a2d1a08fa51d79c83fbf76875c5764fd6">UNWEIGHTED</a>,</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44ae6b1589aa8e5ab3d77beecb819c34f10">   23</a></span>&#160;        <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44ae6b1589aa8e5ab3d77beecb819c34f10">SHIFT</a>,</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44ab406231de84327ab0bcbf2623ede4e27">   24</a></span>&#160;        <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44ab406231de84327ab0bcbf2623ede4e27">MAXITER</a>,</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44a5056ebafbe6495ea5da6c0fc327f964f">   25</a></span>&#160;        <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44a5056ebafbe6495ea5da6c0fc327f964f">N_FLAGS</a></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    };</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac95f36b04e457c40e0d235e4bbcf9d07">   28</a></span>&#160;    <span class="keyword">typedef</span> std::bitset&lt;N_FLAGS&gt; <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac95f36b04e457c40e0d235e4bbcf9d07">FlagSet</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a297356a26e462cdd751a066e030cec46">   30</a></span>&#160;    <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a297356a26e462cdd751a066e030cec46">SdssShapeImpl</a>(<span class="keywordtype">double</span> i0=NAN, <span class="keywordtype">double</span> ixx=NAN, <span class="keywordtype">double</span> ixy=NAN, <span class="keywordtype">double</span> iyy=NAN) :</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        _i0(i0),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        _x(NAN), _xErr(NAN), _y(NAN), _yErr(NAN),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        _ixx(ixx), _ixy(ixy), _iyy(iyy),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        _covar(),</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        _ixy4(NAN),</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        _flags()</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        _covar.setConstant(NAN);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aca3c2b03d94208dadd947e3943c27fd0">   41</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a297356a26e462cdd751a066e030cec46">SdssShapeImpl</a>(</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/class_point.html">afw::geom::Point2D</a> <span class="keyword">const</span> &amp; centroid,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/classlsst_1_1afw_1_1geom_1_1ellipses_1_1_quadrupole.html">afw::geom::ellipses::Quadrupole</a> <span class="keyword">const</span> &amp; shape</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    ) : _i0(NAN),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        _x(centroid.<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#adb19eacc9a37d7ffbc0dcf599c6c9383">getX</a>()), _xErr(NAN), _y(centroid.<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4527c680212402fa0a3201a9a704f239">getY</a>()), _yErr(NAN),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        _ixx(shape.<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab608dbc56f9fd820faf0a535ae3b0c37">getIxx</a>()), _ixy(shape.<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a1f1edcd2fec1d3efa1603990b7011db6">getIxy</a>()), _iyy(shape.<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a2b488056fd4bdc3343e750ef85595fff">getIyy</a>()),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        _covar(),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        _ixy4(NAN),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        _flags()</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        _covar.setConstant(NAN);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a33ece95a8a1c3b071fbccc1e9005775a">   54</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a33ece95a8a1c3b071fbccc1e9005775a">setI0</a>(<span class="keywordtype">double</span> i0) { _i0 = i0; }</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aecaa8020802ff54af4c9b4c3278c63e4">   55</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aecaa8020802ff54af4c9b4c3278c63e4">getI0</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _i0; }</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a9addbc5a2a259944eeea4517822ddf80">   56</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a9addbc5a2a259944eeea4517822ddf80">getI0Err</a>()<span class="keyword"> const </span>{ return ::sqrt(_covar(0, 0)); }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#adb19eacc9a37d7ffbc0dcf599c6c9383">   58</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#adb19eacc9a37d7ffbc0dcf599c6c9383">getX</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _x; }</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab65df209c8408e750f1aa5b4cdef38d1">   59</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab65df209c8408e750f1aa5b4cdef38d1">getXErr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _xErr; }</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4579f6302e862c5a61e5531a4a3ad12f">   60</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4579f6302e862c5a61e5531a4a3ad12f">setX</a>(<span class="keywordtype">double</span> <span class="keyword">const</span> x) { _x = x; }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4527c680212402fa0a3201a9a704f239">   62</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4527c680212402fa0a3201a9a704f239">getY</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _y; }</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#acf3265ca409a8637347c576224db3adf">   63</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#acf3265ca409a8637347c576224db3adf">getYErr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _yErr; }</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab5b6db89c5bd8aa8efe4bd437b375429">   64</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab5b6db89c5bd8aa8efe4bd437b375429">setY</a>(<span class="keywordtype">double</span> <span class="keyword">const</span> y) { _y = y; }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4ce3a47947968817942f4ecdbed85a79">   66</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4ce3a47947968817942f4ecdbed85a79">setIxx</a>(<span class="keywordtype">double</span> ixx) { _ixx = ixx; }</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab608dbc56f9fd820faf0a535ae3b0c37">   67</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab608dbc56f9fd820faf0a535ae3b0c37">getIxx</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _ixx; }</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a83352904d5ea0c087c438777214e082f">   68</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a83352904d5ea0c087c438777214e082f">getIxxErr</a>()<span class="keyword"> const </span>{ return ::sqrt(_covar(1, 1)); }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac143707c1a97c341134fe9969f5d9c33">   70</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac143707c1a97c341134fe9969f5d9c33">setIxy</a>(<span class="keywordtype">double</span> ixy) { _ixy = ixy; }</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a1f1edcd2fec1d3efa1603990b7011db6">   71</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a1f1edcd2fec1d3efa1603990b7011db6">getIxy</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _ixy; }</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3618c410460af9b578ef0a125b49e3b5">   72</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3618c410460af9b578ef0a125b49e3b5">getIxyErr</a>()<span class="keyword"> const </span>{ return ::sqrt(_covar(2, 2)); }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a843144a8eddc624105c9e646f1eae46c">   74</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a843144a8eddc624105c9e646f1eae46c">setIyy</a>(<span class="keywordtype">double</span> iyy) { _iyy = iyy; }</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a2b488056fd4bdc3343e750ef85595fff">   75</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a2b488056fd4bdc3343e750ef85595fff">getIyy</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _iyy; }</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a376be9efc4a6f703f0ac6e3f53ecba4d">   76</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a376be9efc4a6f703f0ac6e3f53ecba4d">getIyyErr</a>()<span class="keyword"> const </span>{ return ::sqrt(_covar(3, 3)); }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a1b0129a213b23c6622913c78d1383e51">   78</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a1b0129a213b23c6622913c78d1383e51">setIxy4</a>(<span class="keywordtype">double</span> ixy4) { _ixy4 = ixy4; }</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#adbe958cbaba5220bad9c6fa61b43bfb0">   79</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#adbe958cbaba5220bad9c6fa61b43bfb0">getIxy4</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _ixy4; }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ad69ff75f906bf518162b951370a94708">   81</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ad69ff75f906bf518162b951370a94708">setFlag</a>(<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44">Flag</a> flag) { _flags.set(flag); }</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a7333a4ebdcaa079023ec384d3100ca81">   82</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a7333a4ebdcaa079023ec384d3100ca81">resetFlag</a>(<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44">Flag</a> flag) { _flags.reset(flag); }</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a9921b19efde7773a3fcb0cd7d95064c5">   83</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a9921b19efde7773a3fcb0cd7d95064c5">getFlag</a>(<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aaaeffcb69d578dcd0a0f2d6a1a795e44">Flag</a> flag)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _flags.test(flag); }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4c1260129f169ec8d4f6798dee7246d8">   85</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4c1260129f169ec8d4f6798dee7246d8">setCovar</a>(<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3d12c0b51eb9b6f38249d6e469eb8cc9">Matrix4</a> covar) { _covar = covar; }</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a377b7f9e647819229032cdb9d9c6808f">   86</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3d12c0b51eb9b6f38249d6e469eb8cc9">Matrix4</a>&amp; <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a377b7f9e647819229032cdb9d9c6808f">getCovar</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _covar; }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac9dd8aa08e05e8fd6b937ddf074341b6">   89</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac9dd8aa08e05e8fd6b937ddf074341b6" title="Return multiplier that transforms I0 to a total flux.">getFluxScale</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">         * The shape is an ellipse that&#39;s axis-aligned in (u, v) [&lt;uv&gt; = 0] after rotation by theta:</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">         * &lt;x^2&gt; + &lt;y^2&gt; = &lt;u^2&gt; + &lt;v^2&gt;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">         * &lt;x^2&gt; - &lt;y^2&gt; = cos(2 theta)*(&lt;u^2&gt; - &lt;v^2&gt;)</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">         * 2*&lt;xy&gt;        = sin(2 theta)*(&lt;u^2&gt; - &lt;v^2&gt;)</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Mxx = <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ab608dbc56f9fd820faf0a535ae3b0c37">getIxx</a>(); <span class="comment">// &lt;x^2&gt;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Mxy = <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a1f1edcd2fec1d3efa1603990b7011db6">getIxy</a>(); <span class="comment">// &lt;xy&gt;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Myy = <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a2b488056fd4bdc3343e750ef85595fff">getIyy</a>(); <span class="comment">// &lt;y^2&gt;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Muu_p_Mvv = Mxx + Myy;                             <span class="comment">// &lt;u^2&gt; + &lt;v^2&gt;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Muu_m_Mvv = ::sqrt(::pow(Mxx - Myy, 2) + 4*::pow(Mxy, 2)); <span class="comment">// &lt;u^2&gt; - &lt;v^2&gt;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Muu = 0.5*(Muu_p_Mvv + Muu_m_Mvv);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> Mvv = 0.5*(Muu_p_Mvv - Muu_m_Mvv);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">return</span> <a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/namespacelsst_1_1afw_1_1geom.html#a786dd4e2f4e396cbccd45895eb3f3d03">lsst::afw::geom::TWOPI</a> * ::sqrt(Muu*Mvv);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a13ca32dbdd7bea8d68f098a0afbec3ea">  108</a></span>&#160;    <a class="codeRef" doxygen="base.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/base/7.1.1.0+1/doc/html" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/base/7.1.1.0+1/doc/html/base_8h.html#a0344343ad45c45b1bb5108bfe1b12acf">PTR</a>(<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html">SdssShapeImpl</a>) <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a13ca32dbdd7bea8d68f098a0afbec3ea">transform</a>(lsst::afw::geom::AffineTransform const&amp; trans)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="codeRef" doxygen="base.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/base/7.1.1.0+1/doc/html" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/base/7.1.1.0+1/doc/html/base_8h.html#a0344343ad45c45b1bb5108bfe1b12acf">PTR</a>(<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html">SdssShapeImpl</a>) shape = boost::make_shared&lt;SdssShapeImpl&gt;();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordtype">double</span> invJacobian = 1.0 / trans.getLinear().computeDeterminant();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/class_point.html">lsst::afw::geom::Point2D</a> <span class="keyword">const</span>&amp; center = trans(<a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/class_point.html">lsst::afw::geom::Point2D</a>(_x, _y));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/classlsst_1_1afw_1_1geom_1_1ellipses_1_1_quadrupole.html">lsst::afw::geom::ellipses::Quadrupole</a> <span class="keyword">const</span>&amp; moments(</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            *<a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/classlsst_1_1afw_1_1geom_1_1ellipses_1_1_quadrupole.html">lsst::afw::geom::ellipses::Quadrupole</a>(_ixx, _iyy, _ixy).<a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a13ca32dbdd7bea8d68f098a0afbec3ea">transform</a>(trans.getLinear()).<a class="codeRef" doxygen="ndarray.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/ndarray/7.1.1.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/ndarray/7.1.1.0+1/doc/html/group___main_group.html#ga50b985df23dd4fe015df7dab1bb483df">copy</a>());</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        shape-&gt;setI0(_i0 * invJacobian);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        shape-&gt;setX(center.getX());</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        shape-&gt;setY(center.getY());</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        shape-&gt;<a class="codeRef" doxygen="afw.tag:/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/" href="/home/felipe/work/LSSTstack/lsst.rhel6.x86_64/Linux64/afw/7.1.2.0+1/doc/html/classlsst_1_1afw_1_1geom_1_1ellipses_1_1_quadrupole.html#acd933f6914904dd1adb4a63eab3fdd27">setIxx</a>(moments.getIxx());</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        shape-&gt;setIxy(moments.getIxy());</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        shape-&gt;setIyy(moments.getIyy());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// XXX errors?</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">// XXX covar?</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="comment">// XXX ixy4?</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        shape-&gt;_flags = _flags;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> shape;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#if !defined(SWIG)                      // XXXX</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor"></span>    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aeb2b99a4325d4c7443f311c414052979">getE1</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a410e302815c2330da67092a849b0f57b">getE1Err</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a7834cebaeea8d7dfb397bef9029089f8">getE2</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a12d347ad67cffd9f773df7700c38f097">getE2Err</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a4e6d8a1144f461e331326394884b0562">getE1E2Err</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aad057be595148cee8de720bdc031aa84">getRms</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#aca032d30dda6b9ca8c850cd666d81136">getRmsErr</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#ifndef SWIG</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor"></span>    EIGEN_MAKE_ALIGNED_OPERATOR_NEW</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">double</span> _i0;                         <span class="comment">// 0-th moment</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">double</span> _x, _xErr, _y, _yErr;        <span class="comment">// &lt;x&gt;, &lt;y&gt; and errors</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">double</span> _ixx, _ixy, _iyy;            <span class="comment">// &lt;xx&gt; &lt;xy&gt; &lt;yy&gt;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#a3d12c0b51eb9b6f38249d6e469eb8cc9">Matrix4</a> _covar;                     <span class="comment">// covariance matrix for (_i0, _ixx, _ixy, _iyy)</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">double</span> _ixy4;                       <span class="comment">// 4th moment used for shear calibration</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html#ac95f36b04e457c40e0d235e4bbcf9d07">FlagSet</a> _flags;                     <span class="comment">// flags describing processing</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;};</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT&gt;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a134651931f39dd64df45e3f6c9b91d8a">getAdaptiveMoments</a>(</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    ImageT <span class="keyword">const</span>&amp; mimage,               </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">double</span> bkgd,                        </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">double</span> xcen,                        </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">double</span> ycen,                        </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">double</span> shiftmax,                    </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html">detail::SdssShapeImpl</a> *shape,       </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordtype">int</span> maxIter=<a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a58c297fcbbbc928054b8f5526d9dd247">SDSS_SHAPE_MAX_ITER</a>,       </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordtype">float</span> tol1=<a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#a2831742d450e23d78ee1b7ae757f2856">SDSS_SHAPE_TOL1</a>,           </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">float</span> tol2=<a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#ad3159c6e81a9cafd0b22eaf728c3003c">SDSS_SHAPE_TOL2</a>            </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT&gt;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;std::pair&lt;double, double&gt;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<a class="code" href="namespacelsst_1_1meas_1_1algorithms_1_1detail.html#abb11fdc51875ef1f692e93ea334e8637" title="Return the flux of an object, using the aperture described by the SdssShape object.">getFixedMomentsFlux</a>(ImageT <span class="keyword">const</span>&amp; mimage, <span class="keywordtype">double</span> bkgd, <span class="keywordtype">double</span> xcen, <span class="keywordtype">double</span> ycen,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <a class="code" href="classlsst_1_1meas_1_1algorithms_1_1detail_1_1_sdss_shape_impl.html">detail::SdssShapeImpl</a> <span class="keyword">const</span>&amp; shape);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}}}}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jul 19 2014 10:34:20 for lsst.meas.algorithms by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
